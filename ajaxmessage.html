<html>
  <head>
    <link rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
    integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
    crossorigin="anonymous"/>
    <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.6/build/pure-min.css" integrity="sha384-Uu6IeWbM+gzNVXJcM9XV3SohHtmWE+3VGi496jvgX1jyvDTXfdK+rfZc8C1Aehk5" crossorigin="anonymous">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://unpkg.com/purecss@2.1.0/build/grids-responsive-min.css">
  </head>
  <title>
    Ajax Message
  </title>
  <body class="behindBody">
    <div class="pure-menu pure-menu-horizontal">
      <ul class="pure-menu-list">
          <li class="pure-menu-item">
            <a href="/" class="pure-menu-link pure-menu-link">Home</a>
          </li>
          <li class="pure-menu-item">
              <a href="/guestbook" class="pure-menu-link">Guestbook</a>
          </li>
          <li class="pure-menu-item">
              <a href="/newmessage" class="pure-menu-link">New message</a>
          </li>
          <li class="pure-menu-item">
              <a href="/ajaxmessage" class="pure-menu-link">Ajax message</a>
          </li>
      </ul>
    </div>
  <h1>Leave a mark of yourself and write to the guestbook.</h1>
    <form class="pure-form pure-form-aligned" method="POST" action="/newmessage">
        <fieldset>
            <div class="pure-control-group">
                <label for="username">Username</label>
                <input type="text" name="username" id="username" placeholder="Username" required/>
            </div>
            <div class="pure-control-group">
                <label for="country">Country</label>
                <input type="text" name="country" id="country" placeholder="Country" required/>
            </div>
            <div class="pure-control-group">
                <label for="message">Message</label>
                <input type="text" name="message" id="message" placeholder="New message" required/>
            </div>
            <div class="pure-controls">
                <button type="submit" value="submit" id="button" class="pure-button pure-button-primary">Submit</button>
            </div>
        </fieldset>
    </form>
    </div>
  </body>
  <script>
    window.onload = (event) =>{
  
        var xmlhttp = new XMLHttpRequest();
        xmlhttp.onreadystatechange = function(){
          if(this.readyState == 4 && this.status == 200){
            document.getElementById("status").innerHTML = this.responseText;
            alert(this.responseText);
          };
        xmlhttp.open("POST","/ajaxmessage", true);
        xmlhttp.setRequestHeader(
          "Content-type",
          "application/x-www-form-urlencoded"
        );
        xmlhttp.send("username=" + username + "&country" + country + "&message" + message);
      };
    };
  </script>
</html>